\documentclass[a4paper]{article}
\usepackage{ctex}
\usepackage{pgfplots}
\usepgfplotslibrary{colormaps}
\pgfplotsset{compat=newest}
\usepackage[graphics,tightpage,active]{preview}
\usepackage{filecontents}

\setlength{\PreviewBorder}{5pt} \PreviewEnvironment{tikzpicture}
\begin{document}

%\selectcolormodel{black}  

\pgfplotsset{
  legend style={font=\footnotesize}
}

% page 1
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=DP,
    legend pos=north west,
    legend entries={DP($k$-CBP),DP(Model)}
]
\pgfplotstableset{col sep = tab}
\addplot[red, thick, mark=square*] table [x=moves, y=count(kCBP)] {experiments/dynamiccd.bunny.k24.csv};
\addplot[blue, thick,mark=triangle*] table [x=moves, y=count(real)] {experiments/dynamiccd.bunny.k24.csv};
\end{axis}
\end{tikzpicture}

% page 2
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.bunny.k24.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.bunny.k24.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.bunny.k24.csv};
\end{axis}
\end{tikzpicture}


% page 3
%% 双纵坐标轴，比较混乱以下
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    axis y line*=right,
    xlabel=$frames$, ylabel=DP,
    legend pos=north west,
    legend entries={DP($k$-CBP),DP(Model)}
]
\pgfplotstableset{col sep = tab}
\addplot[red, thick, mark=square*] table [x=moves, y=count(kCBP)] {experiments/dynamiccd.bunny.k24.csv};\label{plot:dpkcbp}
\addplot[blue,thick, mark=triangle*] table [x=moves, y=count(real)] {experiments/dynamiccd.bunny.k24.csv};\label{plot:dpmodel}
\end{axis}
\begin{axis}
[
    scale only axis, 
    axis x line = none,
    axis y line* = left, %avoid arrow 
    ylabel=碰撞检测时间(ms),
    legend pos=north west,
]
\addlegendimage{/pgfplots/refstyle=plot:dpkcbp}\addlegendentry{DP($k$-CBP)}
\addlegendimage{/pgfplots/refstyle=plot:dpmodel}\addlegendentry{DP(Model)}
\addplot[green, thick, mark=*] table [x=moves,y=CD(kDOPTree)] {experiments/dynamiccd.bunny.k24.csv};\addlegendentry{DT($k$-DOP)}
\addplot[brown, thick, mark=star] table [x=moves,y=CDtime(AABB)]  {experiments/dynamiccd.bunny.k24.csv};\addlegendentry{DT($k$-CBP)(AABB)}
\addplot[black, thick, mark=diamond*] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.bunny.k24.csv};\addlegendentry{DT($k$-CBP)(GJK)}
\end{axis}
\end{tikzpicture}




% page 4
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.apple.k24.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.apple.k24.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.apple.k24.csv};
\end{axis}
\end{tikzpicture}

% page 5
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.budda.k24.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.budda.k24.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.budda.k24.csv};
\end{axis}
\end{tikzpicture}


% page 6
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.dinosaur.k24.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.dinosaur.k24.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.dinosaur.k24.csv};
\end{axis}
\end{tikzpicture}



%m=10

% page 7
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.bunny.k24.m10.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.bunny.k24.m10.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.bunny.k24.m10.csv};
\end{axis}
\end{tikzpicture}

% page 8
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.apple.k24.m10.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.apple.k24.m10.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.apple.k24.m10.csv};
\end{axis}
\end{tikzpicture}

% page 9
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.budda.k24.m10.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.budda.k24.m10.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.budda.k24.m10.csv};
\end{axis}
\end{tikzpicture}


% page 10
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.dinosaur.k24.m10.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.dinosaur.k24.m10.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.dinosaur.k24.m10.csv};
\end{axis}
\end{tikzpicture}



%k24-k46 对比
%page=11
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    %legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
    legend entries={DT($24$-CBP)(AABB), DT($24$-CBP)(GJK), DT($24$-DOP),DT($46$-CBP)(AABB), DT($46$-CBP)(GJK), DT($46$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.bunny.k24.m10.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.bunny.k24.m10.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.bunny.k24.m10.csv};
\addplot[green, thick, dashed, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.bunny.k46.m10.csv};
\addplot[brown, thick, dashed,mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.bunny.k46.m10.csv};
\addplot[black, thick, dashed,mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.bunny.k46.m10.csv};
\end{axis}
\end{tikzpicture}

%page=12
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($24$-CBP)(AABB), DT($24$-CBP)(GJK), DT($24$-DOP),DT($46$-CBP)(AABB), DT($46$-CBP)(GJK), DT($46$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.apple.k24.m10.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.apple.k24.m10.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.apple.k24.m10.csv};
\addplot[green, thick, dashed, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.apple.k46.m10.csv};
\addplot[brown, thick, dashed,mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.apple.k46.m10.csv};
\addplot[black, thick, dashed,mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.apple.k46.m10.csv};
\end{axis}
\end{tikzpicture}



%page 13
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.happyBuddha.k24.m2.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.happyBuddha.k24.m2.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.happyBuddha.k24.m2.csv};
\end{axis}
\end{tikzpicture}

%page 14
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.happyBuddha.k24.m10.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.happyBuddha.k24.m10.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.happyBuddha.k24.m10.csv};
\end{axis}
\end{tikzpicture}

%page 15
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.hand.k24.m2.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.hand.k24.m2.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.hand.k24.m2.csv};
\end{axis}
\end{tikzpicture}

%page 16
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.hand.k24.m10.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.hand.k24.m10.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.hand.k24.m10.csv};
\end{axis}
\end{tikzpicture}


%page=17
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    %legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
    legend entries={DT($24$-CBP)(AABB), DT($24$-CBP)(GJK), DT($24$-DOP),DT($46$-CBP)(AABB), DT($46$-CBP)(GJK), DT($46$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.dinosaur.k24.m10.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.dinosaur.k24.m10.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.dinosaur.k24.m10.csv};
\addplot[green, thick, dashed, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.dinosaur.k46.m10.csv};
\addplot[brown, thick, dashed,mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.dinosaur.k46.m10.csv};
\addplot[black, thick, dashed,mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.dinosaur.k46.m10.csv};
\end{axis}
\end{tikzpicture}

%page=18
\begin{tikzpicture}
\begin{axis}
[
    scale only axis, 
    %axis y line*=left,
    xlabel=$frames$, ylabel=时间(ms),
    legend pos=north west,
    %legend entries={DT($k$-CBP)(AABB), DT($k$-CBP)(GJK), DT($k$-DOP)}
    legend entries={DT($24$-CBP)(AABB), DT($24$-CBP)(GJK), DT($24$-DOP),DT($46$-CBP)(AABB), DT($46$-CBP)(GJK), DT($46$-DOP)}
]
\pgfplotstableset{col sep = tab}
\addplot[green, thick, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.happyBuddha.k24.m10.csv};
\addplot[brown, thick, mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.happyBuddha.k24.m10.csv};
\addplot[black, thick, mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.happyBuddha.k24.m10.csv};
\addplot[green, thick, dashed, mark=*] table [x=moves, y=CDtime(AABB)] {experiments/dynamiccd.happyBuddha.k46.m10.csv};
\addplot[brown, thick, dashed,mark=star] table [x=moves, y=CDtime(GJK)] {experiments/dynamiccd.happyBuddha.k46.m10.csv};
\addplot[black, thick, dashed,mark=diamond*] table [x=moves,  y=CD(kDOPTree)] {experiments/dynamiccd.happyBuddha.k46.m10.csv};
\end{axis}
\end{tikzpicture}

\end{document}

